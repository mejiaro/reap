<%= content_tag(:div, class: "py-4 flex justify-between items-center", id: dom_id(assigned_task)) do %>
  <div class="flex flex-row gap-x-2 items-center">
    <div class="bg-gray-50 rounded-full w-10 h-10 flex justify-center items-center">
      <i class="uc-icon text-lg">&#xe8f2;</i>
    </div>
    <div class="flex flex-col gap-y-1">
      <span class="text-sm text-gray-500 font-medium"><%= assigned_task.task.name %></span>
    </div>
  </div>
  <%- has_time_regs = assigned_task.time_regs.any? %>
  <%- turbo_body = has_time_regs ? "The task <span class='font-semibold text-primary'>#{assigned_task.task.name}</span> has time registrations and can not be removed from this project." : "Do you want to proceed with the removal of the task <span class='font-semibold text-primary'>#{assigned_task.task.name}</span> from this project, This action cannot be undone." %>

  <%= render TooltipComponent.new(note: has_time_regs ? "The task has recorded time registrations, can not be removed from this project." : nil) do %>
    <%= render ButtonComponent.new(variant: :link, class: "text-red-700", method: :delete, path: workspace_project_assigned_task_path(id: assigned_task.id, project_id: assigned_task.project_id), disabled: has_time_regs, form: { data: { turbo_confirm: turbo_body } }) { t("common.remove") } %>
  <% end %>
<% end %>
